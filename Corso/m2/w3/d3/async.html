<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Async</title>
  </head>
  <body>
    <script>
      function startedDelayed() {
        // wuesta funzione viene eseguita (riga21)
        return new Promise((resolve) => {
          // risolvo la promise
          setTimeout(() => {
            // impiego 5 secondi a scrivere 'it ends'
            // resolve è uno stato, quando la promise è risolta, esegui quella stringa!
            resolve("it ends");
          }, 5000); // dopo 5 secondi starteDelayed ha finito e si legeera riga 28
        });
      }
      // async è una keyword che permette di dichiarare una funzione asincrona
      //cioe una funzione che contiente un operazione asincrona
      //await sospende l'esecuzione in attesa che la promise associata venga risolta
      async function asyncFunction() {
        console.log("start async");
        // aspetta esecuzione della funzione startedelayed
        let ends = await startedDelayed();
        console.log(ends);
      }

      asyncFunction();
    </script>
  </body>
</html>
